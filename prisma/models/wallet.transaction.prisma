model WalletTransaction {
  id       BigInt                @id @default(autoincrement())
  userId   String?               @db.Uuid
  type     WalletTransactionType
  amount   Decimal               @db.Decimal(18, 2)
  currency ValidCurrency         @default(irt)

  balanceBefore Decimal @db.Decimal(18, 2)
  balanceAfter  Decimal @db.Decimal(18, 2)

  referenceId   String?                         @db.VarChar(36)
  referenceType WalletTransactionReferenceType?
  note          String?                         @db.VarChar(255)

  performedById String? @db.Uuid

  createdAt DateTime @default(now())

  user        User? @relation(fields: [userId], references: [id], onDelete: SetNull)
  performedBy User? @relation("PerformedBy", fields: [performedById], references: [id], onDelete: SetNull)
}
